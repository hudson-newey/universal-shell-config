@go.Package { name = "github.com/myorg/myteam/config" }
module myorg.myteam.Config
import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.6.0#/go.pkl" 

typealias Path = String
typealias Command = String
typealias Plugin = String

class Alias {
    aliases: Listing<Command>
    command: Command
}

/// Create command aliases
aliases: Listing<Alias> = new {
    new Alias { aliases {"l"} command = "ls -l" }
    new Alias { aliases {"ll"} command = "ls -latrh" }
    new Alias { aliases {"record"} command = "asciinema rec" }
    new Alias { aliases {"em"} command = "emacs -Q -nw" }
    new Alias { aliases {"ada"} command = "gnatmake" }
    new Alias { aliases {"vsc"} command = "code ." }
    new Alias { aliases {"g"} command = "git" }
    new Alias { aliases {"ga"} command = "git add -A" }
    new Alias { aliases {"gc"} command = "git commit" }
    new Alias { aliases {"gp"} command = "git push" }
    new Alias { aliases {"gs"} command = "ga;gc;gp" }
    new Alias { aliases {"gm"} command = "git pull" }
    new Alias { aliases {"gcl"} command = "git clone" }
    new Alias { aliases {"n"} command = "npm" }
    new Alias { aliases {"pn"} command = "pnpm" }
    new Alias { aliases {"e"} command = "ls -t --color=auto --group-directories-first" }
    new Alias { aliases {"ee"} command = "ls -talhv --group-directories-first" }
    new Alias { aliases {"fman"} command = "compgen -c | fzf | xargs man" }
    new Alias { aliases {"lg"} command = "lazygit" }
    new Alias { aliases {"t"} command = "tmux" }
    new Alias { aliases {"c"} command = "xclip -selection clipboard" }
    new Alias { aliases {"y"} command = "xclip -selection clipboard -o" }
    new Alias { aliases {"cd"} command = "z" }
    new Alias { aliases {"q" "qa" "qq"} command = "exit" }
}

sources: Listing<Path> = new {
    "~/.local/bin"
    "~/.local/bin/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"
    "~/.local/bin/zsh-autosuggestions/zsh-autosuggestions.zsh"
    "~/.local/bin"
    "/usr/sbin/"
    "<(ng completion script)"
}

/// Adds paths to PATH
paths: Listing<Path> = new {
    "~/go/bin"
    "~/.dotnet/tools"
    "~/.cargo/bin"
    "~/.config/emacs/bin"
}

/// Execute commands before the user can interact with the shell
commands: Listing<Command> = new {
    "export ZSH='$HOME/.oh-my-zsh'"
    "ZSH_THEME='aussiegeek'"
    "plugins=(git vi-mode)"
    "eval '$(zoxide init zsh)'"
}
